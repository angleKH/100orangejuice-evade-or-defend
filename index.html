<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>100% Orange Juice evade or defend calculator</title><style>#result_tbl{background-color:#f8f9fa;color:#202122;margin:1em 0;border:2px solid #a2a9b1;border-collapse:collapse}#result_tbl td,#result_tbl th{border:1px solid #a2a9b1;padding:.2em .4em}#result_tbl th{background-color:#eaecf0;text-align:center}#result_tbl>caption{font-weight:700}input{width:3em}</style></head><body> <label for="def">DEF: </label><input id="def" type="number" value="0" step="1"> <label for="evd">EVD: </label><input id="evd" type="number" value="0" step="1"> <label for="hp">Current HP: </label><input id="hp" type="number" value="6" step="1" min="1"> <label for="dice">Dice: </label><input id="dice" type="number" value="1" step="1" min="1"> <table id="result_tbl" style="text-align:center"> <thead><tr> <th rowspan="2">Attacker roll </th> <th colspan="2">Average damage </th> <th colspan="2">Optimal choice </th> <th colspan="2">Survival chance </th></tr> <tr> <th>Evade </th> <th>Defend </th> <th>Goal: Min damage </th> <th>Goal: Survival </th> <th>Evade </th> <th>Defend </th></tr></thead><tbody id="result"></tbody></table><p id="noscript">JavaScript needs to be enabled to run this calculator.</p><script>!function(){"use strict";var e=document.getElementById("noscript");e.parentNode.removeChild(e);var t=document.getElementById("result"),n=document.getElementById("def"),d=document.getElementById("evd"),a=document.getElementById("hp"),r=document.getElementById("dice"),i=parseInt(n.value),l=parseInt(d.value),u=parseInt(a.value),p=parseInt(r.value);function c(e){return parseFloat(e.toFixed(2)).toString()}function m(){for(;t.lastChild;)t.removeChild(t.lastChild);for(var e=6*p,n=1;n<=24;++n){var d,a,r=document.createElement("tr");(d=document.createElement("td")).innerText=n,r.appendChild(d),a=0;for(var m=e,o=1;o<=e;++o){n>=(h=Math.max(o+l,1))&&(a+=n,n>=u&&--m)}var v=a/e;(d=document.createElement("td")).innerText=c(v),r.appendChild(d),a=0;for(var s=e,E=1;E<=e;++E){var h=Math.max(E+i,1),f=Math.max(n-h,1);a+=f,f>=u&&--s}var I=a/e;(d=document.createElement("td")).innerText=c(I),r.appendChild(d);var x,C=v<I?"Evade":"Defend";(x=m>s?"Evade":s>m?"Defend":C)===C?((d=document.createElement("td")).innerText=C,d.colSpan=2,r.appendChild(d)):((d=document.createElement("td")).innerText=C,r.appendChild(d),(d=document.createElement("td")).innerText=x,r.appendChild(d)),(d=document.createElement("td")).innerText=c(100*m/e)+"%",r.appendChild(d),(d=document.createElement("td")).innerText=c(100*s/e)+"%",r.appendChild(d),t.append(r)}}m();var o={passive:!0};n.addEventListener("input",(function(){i=parseInt(n.value),m()}),o),d.addEventListener("input",(function(){l=parseInt(d.value),m()}),o),a.addEventListener("input",(function(){u=parseInt(a.value),m()}),o),r.addEventListener("input",(function(){p=parseInt(r.value),m()}),o)}()</script></body></html>
